(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{43:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={BASE_URL:"https://api.themoviedb.org/3/",KEY:"c2855cd9e1605af870984c1963f9b27b",IMAGE:"https://image.tmdb.org/t/p/w300/"}},44:function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"e",(function(){return m})),r.d(t,"a",(function(){return f})),r.d(t,"d",(function(){return j}));var a=r(45),n=r.n(a),c=r(47),o=r(43);function i(){return s.apply(this,arguments)}function s(){return s=Object(c.a)(n.a.mark((function e(){var t,r,a,c=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,r);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function u(){return i("".concat(o.a.BASE_URL,"trending/movie/day?api_key=").concat(o.a.KEY))}function l(e){return i("".concat(o.a.BASE_URL,"movie/").concat(e,"?api_key=").concat(o.a.KEY,"&language=en-US"))}function m(e){return i("".concat(o.a.BASE_URL,"search/movie?api_key=").concat(o.a.KEY,"&language=en-US&page=1&include_adult=false&query=").concat(e))}function f(e){return i("".concat(o.a.BASE_URL,"movie/").concat(e,"/credits?api_key=").concat(o.a.KEY,"&language=en-US"))}function j(e){return i("".concat(o.a.BASE_URL,"movie/").concat(e,"/reviews?api_key=").concat(o.a.KEY,"&language=en-US&page=1"))}},48:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},49:function(e,t,r){e.exports={idleView:"IdleView_idleView__1pjjz"}},50:function(e,t,r){e.exports={errorView:"ErrorView_errorView__3ypu7"}},51:function(e,t,r){"use strict";var a=r.p+"static/media/searchMovies.bd5cf1e7.jpg",n=r(49),c=r.n(n),o=r(2);t.a=function(){return Object(o.jsx)("div",{className:c.a.idleView,role:"alert",children:Object(o.jsx)("img",{src:a,alt:"Search",width:"700"})})}},52:function(e,t,r){"use strict";var a=r.p+"static/media/error.c214a54e.png",n=r(50),c=r.n(n),o=r(2);t.a=function(e){var t=e.message;return Object(o.jsxs)("div",{className:c.a.errorView,role:"alert",children:[Object(o.jsx)("img",{src:a,alt:"error"}),Object(o.jsx)("h2",{children:t})]})}},53:function(e,t,r){"use strict";var a=r(1),n=r(6),c=r(43),o=r(54),i=r.n(o),s=r(2);t.a=function(e){var t=e.movies,r=Object(a.f)();return Object(s.jsx)("ul",{className:i.a.gallery,children:t.map((function(e){return Object(s.jsx)("li",{className:i.a.item,id:e.id,children:Object(s.jsxs)(n.b,{to:"/movies/".concat(e.id),state:{from:r},children:[Object(s.jsx)("img",{className:i.a.image,src:"".concat(c.a.IMAGE).concat(e.poster_path),alt:e.title||e.name}),Object(s.jsx)("h3",{className:i.a.titleMovie,children:e.title||e.name})]})},e.id)}))})}},54:function(e,t,r){e.exports={gallery:"Gallery_gallery__12p9f",item:"Gallery_item__1OFVZ",titleMovie:"Gallery_titleMovie__3rrYA"}},57:function(e,t,r){e.exports={searchForm:"SearchForm_searchForm__2V8Y6",searchFormInput:"SearchForm_searchFormInput__2SpGc",searchFormButton:"SearchForm_searchFormButton__3bdio",searchFormButtonLabel:"SearchForm_searchFormButtonLabel__34dUN"}},59:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var a=r(5),n=r(0),c=r(55),o=r(57),i=r.n(o),s=r(2);var u=function(e){var t=e.onSubmit,r=Object(n.useState)(""),o=Object(a.a)(r,2),u=o[0],l=o[1],m=function(){l("")};return Object(s.jsxs)("form",{className:i.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===u.trim())return c.b.error("Enter the queryn"),void l("");t(u),m()},children:[Object(s.jsx)("input",{className:i.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:u,onChange:function(e){l(e.currentTarget.value.toLowerCase())}}),Object(s.jsx)("button",{type:"submit",disabled:!u,className:i.a.searchFormButton,children:Object(s.jsx)("span",{className:i.a.searchFormButtonLabel,children:"Search"})})]})},l=r(53),m=r(44),f=r(48),j=r(51),d=r(52),h=r(11),b=(r(58),r(59)),p=r.n(b);t.default=function(){var e=Object(n.useState)(""),t=Object(a.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),b=Object(a.a)(i,2),v=b[0],E=b[1],_=Object(n.useState)(f.a.IDLE),O=Object(a.a)(_,2),g=O[0],x=O[1];Object(n.useEffect)((function(){r&&(x(f.a.PENDING),m.e(r).then((function(e){if(0===e.results.length)throw new Error;E(e.results),x(f.a.RESOLVED)})).catch((function(e){x(f.a.REJECTED)})))}),[r]);var S=function(e){o(e)};return g===f.a.IDLE?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(u,{onSubmit:S}),Object(s.jsx)(j.a,{})]}):g===f.a.PENDING?Object(s.jsx)(h.a,{}):g===f.a.REJECTED?Object(s.jsx)(d.a,{message:"Sorry we nothing found for you"}):g===f.a.RESOLVED?Object(s.jsxs)("div",{className:p.a.moviesPage,children:[Object(s.jsx)(u,{onSubmit:S}),Object(s.jsx)(l.a,{movies:v}),Object(s.jsx)(c.a,{autoClose:3e3})]}):void 0}}}]);
//# sourceMappingURL=movies-page.34325066.chunk.js.map