(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{14:function(e,t,n){e.exports={container:"Container_container__2ZjH-",title:"Container_title__1oopE"}},17:function(e,t,n){e.exports={title:"HomePage_title__1o99q"}},18:function(e,t,n){e.exports={searchIdleView:"SearchIdleView_searchIdleView__15KPS"}},19:function(e,t,n){e.exports={errorView:"ErrorView_errorView__3ypu7"}},21:function(e,t,n){e.exports={loader:"Loader_loader__2MOw0"}},22:function(e,t,n){},27:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(10),i=n.n(a),s=n(6),o=(n(27),n(2)),l=n(7),u=n.n(l),j=n(1);var h=function(){return Object(j.jsxs)("nav",{className:u.a.nav,children:[Object(j.jsx)(s.c,{to:"/",className:function(e){return e.isActive?u.a.activeLink:u.a.link},children:"Home"}),Object(j.jsx)(s.c,{to:"/movies",className:function(e){return e.isActive?u.a.activeLink:u.a.link},children:"Movies"})]})},m=n(14),b=n.n(m);var d=function(e){var t=e.title,n=e.children;return Object(j.jsxs)("section",{className:b.a.container,children:[t&&Object(j.jsx)("h2",{className:b.a.title,children:t}),n]})},v=n(4),O=n(15),f=n.n(O),x=n(16),p="https://api.themoviedb.org/3/",_="c2855cd9e1605af870984c1963f9b27b",g="https://image.tmdb.org/t/p/w342/";function w(){return F.apply(this,arguments)}function F(){return F=Object(x.a)(f.a.mark((function e(){var t,n,r,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}var N=n(8),S=n.n(N);var y=function(e){var t=e.movies;return Object(j.jsx)("ul",{className:S.a.gallery,children:t.map((function(e){return Object(j.jsx)("li",{className:S.a.item,id:e.id,children:Object(j.jsxs)(s.b,{to:"/movies/".concat(e.id),children:[Object(j.jsx)("img",{className:S.a.image,src:"".concat(g).concat(e.poster_path),alt:e.title||e.name}),Object(j.jsx)("h3",{className:S.a.titleMovie,children:e.title||e.name})]})},e.id)}))})},k=n(17),V=n.n(k);var I=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){w("".concat(p,"trending/all/day?api_key=").concat(_)).then((function(e){return c(e.results)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:V.a.title,children:"Trending today"}),n&&Object(j.jsx)(y,{movies:n})]})},L=n(12),B=n(9),E=n.n(B);var M=function(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(v.a)(n,2),a=c[0],i=c[1],s=function(){i("")};return Object(j.jsxs)("form",{className:E.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===a.trim())return L.b.error("Enter the queryn"),void i("");t(a),s()},children:[Object(j.jsx)("input",{className:E.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:a,onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),Object(j.jsx)("button",{type:"submit",disabled:!a,className:E.a.searchFormButton,children:Object(j.jsx)("span",{className:E.a.searchFormButtonLabel,children:"Search"})})]})},C="idle",q="pending",A="resolved",G="rejected",P=n.p+"static/media/searchMovies.bd5cf1e7.jpg",H=n(18),T=n.n(H);var J=function(){return Object(j.jsx)("div",{className:T.a.searchIdleView,role:"alert",children:Object(j.jsx)("img",{src:P,alt:"Search",width:"700"})})},U=n.p+"static/media/error.c214a54e.png",Y=n(19),Z=n.n(Y);var D=function(e){var t=e.message;return Object(j.jsxs)("div",{className:Z.a.errorView,role:"alert",children:[Object(j.jsx)("img",{src:U,alt:"error"}),Object(j.jsx)("h2",{children:t})]})},K=n(20),R=n.n(K),z=n(21),Q=n.n(z),W=function(){return Object(j.jsx)("div",{className:Q.a.loader,children:Object(j.jsx)(R.a,{type:"Rings",color:"#00BFFF",height:200,width:200,timeout:3e3})})},X=(n(50),n(22)),$=n.n(X);var ee=function(){var e=Object(r.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(v.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)(C),u=Object(v.a)(l,2),h=u[0],m=u[1];Object(r.useEffect)((function(){n&&(m(q),function(e){return w("".concat(p,"search/movie?api_key=").concat(_,"&language=en-US&page=1&include_adult=false&query=").concat(e))}(n).then((function(e){if(0===e.results.length)throw new Error;o(e.results),m(A)})).catch((function(e){m(G)})))}),[n]);var b=function(e){c(e)};return h===C?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(M,{onSubmit:b}),";",Object(j.jsx)(J,{}),";"]}):h===q?Object(j.jsx)(W,{}):h===G?Object(j.jsx)(D,{message:"Sorry we nothing found for you"}):h===A?Object(j.jsxs)("div",{className:$.a.moviesPage,children:[Object(j.jsx)(M,{onSubmit:b}),Object(j.jsx)(y,{movies:s}),Object(j.jsx)(L.a,{autoClose:3e3})]}):void 0};var te=function(){return Object(j.jsx)("h4",{children:"Additional information"})};n(51);var ne=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),Object(j.jsx)(d,{title:"",children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/*",element:Object(j.jsx)(I,{})}),Object(j.jsx)(o.a,{path:"/movies",element:Object(j.jsx)(ee,{})}),Object(j.jsx)(o.a,{path:"/movies/:movieId",element:Object(j.jsx)(te,{})})]})})]})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(ne,{})})}),document.getElementById("root"))},7:function(e,t,n){e.exports={nav:"Navigation_nav__3T5eo",link:"Navigation_link__2qk1k",activeLink:"Navigation_activeLink__1mOnO"}},8:function(e,t,n){e.exports={gallery:"Gallery_gallery__12p9f",item:"Gallery_item__1OFVZ",titleMovie:"Gallery_titleMovie__3rrYA"}},9:function(e,t,n){e.exports={searchForm:"SearchForm_searchForm__2V8Y6",searchFormInput:"SearchForm_searchFormInput__2SpGc",searchFormButton:"SearchForm_searchFormButton__3bdio",searchFormButtonLabel:"SearchForm_searchFormButtonLabel__34dUN"}}},[[52,1,2]]]);
//# sourceMappingURL=main.4752a913.chunk.js.map